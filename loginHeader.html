<!DOCTYPE HTML>
<!-- use document.cookie to get username -->
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="css/loginPage.css">
		<script>
			window.onload = function() {LoginOnload();}
		</script>
	</head>
	<body>
		<nav>
			<a href="index.html"><img src="img/logo/logo.jpg"></a>
			<ul>

				<li id="loginWelcome" style="display: none;"<li>
				<li><a href="http://www.nyp.edu.sg/">Main</a></li>
				<li>Tool</li>

				<li id="loginButton"><a href="#" onclick="loginator()">Login</a></li>

				<li id="loginLogout" style="display: none;"><a href="#" onclick="logoutinator()" required>Log Out</a></li>

			</ul>
		</nav>

		<form id="loginBox" style="display: none;" onsubmit="loginSubmit(); this.reset(); return false;">
			<button id="closeLoginbox" onclick="loginXbox()">X</button>
			Username:<br><input id="loginData" required><br>
			Password:<br><input id="loginPW" type="password"  required>
			<button onclick="loginSubmit()" required>Submit</button>
		</form>

		<script>
			var LoginName;
			function loginator() {
				document.getElementById("loginBox").setAttribute("style", "display: block");
			}

			function loginXbox() {
				document.getElementById("loginBox").setAttribute("style", "display: none");
			}

			function loginSubmit() {
				if(document.getElementById("loginData").value == "")
				return false;
				if(document.getElementById("loginPW").value == "")
				return false;
				else {
					loginName = document.getElementById("loginData").value;
					document.getElementById("loginWelcome").innerHTML = ("Welcome " + loginName);
					document.getElementById("loginWelcome").setAttribute("style", "display: inline-block");

					document.getElementById("loginButton").setAttribute("style", "display: none");
					document.getElementById("loginBox").setAttribute("style", "display: none");

					document.getElementById("loginLogout").setAttribute("style", "display: inline-block");
					document.cookie = loginName;
				}
			}

			function loginKeep() {
				loginName = document.cookie;
				document.getElementById("loginWelcome").innerHTML = ("Welcome " + loginName);
				document.getElementById("loginWelcome").setAttribute("style", "display: inline-block");

				document.getElementById("loginBox").setAttribute("style", "display: none");
				document.getElementById("loginButton").setAttribute("style", "display: none");
				document.getElementById("loginLogout").setAttribute("style", "display: inline-block");

			}

			function logoutinator() {
				document.getElementById("loginWelcome").innerHTML = "";
				document.getElementById("loginLogout").setAttribute("style", "display: none");
				document.getElementById("loginButton").setAttribute("style", "display: inline-block");
				document.getElementById("loginWelcome").setAttribute("style", "display: none");
				document.cookie = "expired";
			}

			function LoginOnload() {
				if(document.cookie == "expired")
				return false;
				if(document.cookie == "")
				return false;
				else {
				loginKeep();
				}
			}
		</script>
	</body>
</html>
